function _defineProperties(n,l){for(var t=0;t<l.length;t++){var e=l[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function _createClass(n,l,t){return l&&_defineProperties(n.prototype,l),t&&_defineProperties(n,t),n}function _classCallCheck(n,l){if(!(n instanceof l))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{G26R:function(n,l,t){"use strict";t.r(l);var e=t("8Y7J"),o=function n(){_classCallCheck(this,n)},i=t("pMnS"),u=t("oBZk"),r=t("ZZ/e"),s=t("SVse"),a=t("mrSG"),c=t("3Nn5"),b=t("pn+4"),p=t("izWX"),d=t("wc7r"),h=function(n){return n[n.JUST_SELECTED=0]="JUST_SELECTED",n[n.RIGHT_OPTION=1]="RIGHT_OPTION",n[n.WRONG_OPTION=2]="WRONG_OPTION",n}({}),f=function(){function n(l,t,e,o){var i=this;_classCallCheck(this,n),this.route=l,this.navCtrl=t,this.quizService=e,this.viewUtils=o,this.questions=[],this.lastBttClicked=void 0,this.answers=[],this.TIME_BEFORE_NEXT_QUESTION=1500,this.buttonsColors=[],this.actualTheme=window.matchMedia("(prefers-color-scheme: light)")?"light":"dark",this.quiz=p.a.empty();var u=this.route.snapshot.paramMap.get("id");this.quizService.getById(u).subscribe((function(n){i.quiz=p.a.fromData(n),i.quiz.questions.map((function(n){Object(d.b)(n.options)})),i.questions=i.quiz.questions,i.questions.map((function(n,l){i.buttonsColors[l]=[],n.options.map((function(n,t){i.buttonsColors[l][t]=i.actualTheme}))}))}))}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"onOptionSelected",value:function(n,l){var t=this;this.lastBttClicked={questionIndex:n,optionIndex:l},this.answers[n]=this.isCorrectOption(n,l),this.buttonsColors.map((function(n,l){return n.map((function(n,e){t.buttonsColors[l][e]=t.actualTheme}))})),this.updateButtonColor(n,l,h.JUST_SELECTED)}},{key:"isCorrectOption",value:function(n,l){return this.questions[n].options[l].correct}},{key:"updateButtonColor",value:function(n,l,t){var e=this.actualTheme;switch(t){case h.JUST_SELECTED:e="warning";break;case h.RIGHT_OPTION:e="success";break;case h.WRONG_OPTION:e="danger"}this.buttonsColors[n][l]=e}},{key:"sliderLoaded",value:function(){return a.b(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.slider.lockSwipes(!0),n.next=3,this.slider.length();case 3:if(n.t0=n.sent,n.t1=1===n.t0,!n.t1){n.next=7;break}this.slider.pager=!1;case 7:case"end":return n.stop()}}),n,this)})))}},{key:"onConfirmSelectedOption",value:function(){return a.b(this,void 0,void 0,regeneratorRuntime.mark((function n(){var l,t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.lastBttClicked){n.next=8;break}return this.showQuestionResult(),n.next=4,this.slider.isEnd();case 4:l=n.sent,setTimeout((function(){l?t.finishQuiz():(t.slider.lockSwipes(!1),t.slider.slideNext(),t.slider.lockSwipes(!0))}),this.TIME_BEFORE_NEXT_QUESTION),n.next=9;break;case 8:this.onNoOptionSelected();case 9:case"end":return n.stop()}}),n,this)})))}},{key:"showQuestionResult",value:function(){this.isCorrectOption(this.lastBttClicked.questionIndex,this.lastBttClicked.optionIndex)?this.onRightChoiceConfirmed():this.onWrongChoiceConfirmed()}},{key:"onRightChoiceConfirmed",value:function(){this.updateButtonColor(this.lastBttClicked.questionIndex,this.lastBttClicked.optionIndex,h.RIGHT_OPTION),this.playCorrectChoiceAnimation()}},{key:"onWrongChoiceConfirmed",value:function(){var n=this,l=this.lastBttClicked.questionIndex;this.updateButtonColor(l,this.lastBttClicked.optionIndex,h.WRONG_OPTION),this.questions[l].options.map((function(t,e){t.correct&&n.updateButtonColor(l,e,h.RIGHT_OPTION)}))}},{key:"onNoOptionSelected",value:function(){this.viewUtils.presentToast("Por favor, selecione uma op\xe7\xe3o antes de Confirmar")}},{key:"playCorrectChoiceAnimation",value:function(){}},{key:"finishQuiz",value:function(){this.navCtrl.navigateForward("/quiz/results",{state:{quiz:this.quiz,answers:this.answers}})}}]),n}(),m=t("iInd"),C=e.zb({encapsulation:0,styles:[["ion-button[_ngcontent-%COMP%]{font-size:.8em;white-space:pre-wrap;word-wrap:break-word}ion-slides[_ngcontent-%COMP%]{min-height:100%}.image-background[_ngcontent-%COMP%]{background-repeat:no-repeat;background-position:center;background-attachment:fixed;background-size:cover}.question-container[_ngcontent-%COMP%]{width:90%}"]],data:{}});function k(n){return e.Ub(0,[(n()(),e.Bb(0,0,null,null,2,"ion-button",[["expand","block"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.onOptionSelected(n.parent.context.index,n.context.index)&&e),e}),u.L,u.d)),e.Ab(1,49152,null,0,r.j,[e.j,e.p,e.F],{color:[0,"color"],expand:[1,"expand"]},null),(n()(),e.Sb(2,0,[" "," "]))],(function(n,l){n(l,1,0,l.component.buttonsColors[l.parent.context.index][l.context.index],"block")}),(function(n,l){n(l,2,0,l.context.$implicit.text)}))}function g(n){return e.Ub(0,[(n()(),e.Bb(0,0,null,null,23,"ion-slide",[["class","ion-padding"]],null,null,null,u.kb,u.C)),e.Ab(1,49152,null,0,r.pb,[e.j,e.p,e.F],null,null),(n()(),e.Bb(2,0,null,0,21,"div",[["class","question-container"]],null,null,null,null,null)),(n()(),e.Bb(3,0,null,null,6,"ion-card",[["class","statement"],["color","primary"]],null,null,null,u.R,u.f)),e.Ab(4,49152,null,0,r.l,[e.j,e.p,e.F],{color:[0,"color"]},null),(n()(),e.Bb(5,0,null,0,4,"ion-card-header",[],null,null,null,u.O,u.h)),e.Ab(6,49152,null,0,r.n,[e.j,e.p,e.F],null,null),(n()(),e.Bb(7,0,null,0,2,"ion-card-title",[],null,null,null,u.Q,u.j)),e.Ab(8,49152,null,0,r.p,[e.j,e.p,e.F],null,null),(n()(),e.Sb(9,0,["",""])),(n()(),e.Bb(10,0,null,null,10,"ion-card",[["class","options"],["color","primary"]],null,null,null,u.R,u.f)),e.Ab(11,49152,null,0,r.l,[e.j,e.p,e.F],{color:[0,"color"]},null),(n()(),e.Bb(12,0,null,0,4,"ion-card-header",[],null,null,null,u.O,u.h)),e.Ab(13,49152,null,0,r.n,[e.j,e.p,e.F],null,null),(n()(),e.Bb(14,0,null,0,2,"ion-card-title",[],null,null,null,u.Q,u.j)),e.Ab(15,49152,null,0,r.p,[e.j,e.p,e.F],null,null),(n()(),e.Sb(-1,0,[" Escolha a alternativa correta: "])),(n()(),e.Bb(17,0,null,0,3,"ion-card-content",[],null,null,null,u.N,u.g)),e.Ab(18,49152,null,0,r.m,[e.j,e.p,e.F],null,null),(n()(),e.qb(16777216,null,0,1,null,k)),e.Ab(20,278528,null,0,s.i,[e.W,e.S,e.x],{ngForOf:[0,"ngForOf"]},null),(n()(),e.Bb(21,0,null,null,2,"ion-button",[["class","ion-margin-top"],["color","secondary"],["expand","full"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.onConfirmSelectedOption()&&e),e}),u.L,u.d)),e.Ab(22,49152,null,0,r.j,[e.j,e.p,e.F],{color:[0,"color"],expand:[1,"expand"]},null),(n()(),e.Sb(-1,0,["Confirmar"]))],(function(n,l){n(l,4,0,"primary"),n(l,11,0,"primary"),n(l,20,0,l.context.$implicit.options),n(l,22,0,"secondary","full")}),(function(n,l){n(l,9,0,l.context.$implicit.statement)}))}function v(n){return e.Ub(0,[(n()(),e.Bb(0,0,null,null,3,"ion-slides",[["class","image-background"],["pager","true"]],null,[[null,"ionSlidesDidLoad"]],(function(n,l,t){var e=!0;return"ionSlidesDidLoad"===l&&(e=!1!==n.component.sliderLoaded()&&e),e}),u.lb,u.D)),e.Ab(1,49152,[[1,4],["slider",4]],0,r.qb,[e.j,e.p,e.F],{pager:[0,"pager"]},null),(n()(),e.qb(16777216,null,0,1,null,g)),e.Ab(3,278528,null,0,s.i,[e.W,e.S,e.x],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){var t=l.component;n(l,1,0,"true"),n(l,3,0,t.questions)}),null)}function O(n){return e.Ub(0,[e.Qb(671088640,1,{slider:0}),(n()(),e.Bb(1,0,null,null,9,"ion-header",[],null,null,null,u.Y,u.q)),e.Ab(2,49152,null,0,r.A,[e.j,e.p,e.F],null,null),(n()(),e.Bb(3,0,null,0,7,"ion-toolbar",[["color","primary"]],null,null,null,u.pb,u.H)),e.Ab(4,49152,null,0,r.Bb,[e.j,e.p,e.F],{color:[0,"color"]},null),(n()(),e.Bb(5,0,null,0,2,"ion-title",[],null,null,null,u.ob,u.G)),e.Ab(6,49152,null,0,r.zb,[e.j,e.p,e.F],null,null),(n()(),e.Sb(7,0,[""," - ",""])),(n()(),e.Bb(8,0,null,0,2,"ion-title",[["slot","end"]],null,null,null,u.ob,u.G)),e.Ab(9,49152,null,0,r.zb,[e.j,e.p,e.F],null,null),(n()(),e.Sb(10,0,["","\xb0 ano"])),(n()(),e.Bb(11,0,null,null,3,"ion-content",[],null,null,null,u.T,u.l)),e.Ab(12,49152,null,0,r.t,[e.j,e.p,e.F],null,null),(n()(),e.qb(16777216,null,0,1,null,v)),e.Ab(14,16384,null,0,s.j,[e.W,e.S],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,4,0,"primary"),n(l,14,0,t.quiz)}),(function(n,l){var t=l.component;n(l,7,0,t.quiz.subject,t.quiz.name),n(l,10,0,t.quiz.school_year)}))}var w=e.xb("app-play-quiz",f,(function(n){return e.Ub(0,[(n()(),e.Bb(0,0,null,null,1,"app-play-quiz",[],null,null,null,O,C)),e.Ab(1,114688,null,0,f,[m.a,r.Hb,c.a,b.a],null,null)],(function(n,l){n(l,1,0)}),null)}),{},{},[]),x=t("s7LF"),B=function n(){_classCallCheck(this,n)};t.d(l,"PlayQuizPageModuleNgFactory",(function(){return q}));var q=e.yb(o,[],(function(n){return e.Kb([e.Lb(512,e.m,e.jb,[[8,[i.a,w]],[3,e.m],e.D]),e.Lb(4608,s.l,s.k,[e.z,[2,s.s]]),e.Lb(4608,x.q,x.q,[]),e.Lb(4608,r.b,r.b,[e.F,e.g]),e.Lb(4608,r.Gb,r.Gb,[r.b,e.m,e.w]),e.Lb(4608,r.Kb,r.Kb,[r.b,e.m,e.w]),e.Lb(1073742336,s.b,s.b,[]),e.Lb(1073742336,x.p,x.p,[]),e.Lb(1073742336,x.g,x.g,[]),e.Lb(1073742336,r.Db,r.Db,[]),e.Lb(1073742336,m.o,m.o,[[2,m.t],[2,m.m]]),e.Lb(1073742336,B,B,[]),e.Lb(1073742336,o,o,[]),e.Lb(1024,m.k,(function(){return[[{path:"",component:f}]]}),[])])}))}}]);